<!DOCTYPE html>
<html lang="ru">
<head>
Â Â <meta charset="UTF-8" />
Â Â <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
Â Â <title>WebKurierCore</title><meta name="telegram-token" content="7145533143:AAEirzSuGNSLwNi4UOILOt7-8EGZ6Z295PM">
Â Â <meta name="description" content="WebKurier: Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ», ĞºĞ¾ÑˆĞµĞ»Ñ‘Ğº, Ğ¾Ñ„Ğ»Ğ°Ğ¹Ğ½-Ğ´Ğ¾ÑÑ‚ÑƒĞ¿">
Â Â <link rel="icon" href="favicon.ico" type="image/x-icon">
Â Â <style>
Â Â Â Â :root {
Â Â Â Â Â Â --bg-light: #f4f4f4;
Â Â Â Â Â Â --bg-dark: #121212;
Â Â Â Â Â Â --text-light: #222;
Â Â Â Â Â Â --text-dark: #f4f4f4;
Â Â Â Â Â Â --accent-light: #ccc;
Â Â Â Â Â Â --accent-dark: #444;
Â Â Â Â Â Â --green: #0f0;
Â Â Â Â Â Â --red: #f33;
Â Â Â Â }

Â Â Â Â body {
Â Â Â Â Â Â font-family: monospace;
Â Â Â Â Â Â background-color: var(--bg-light);
Â Â Â Â Â Â color: var(--text-light);
Â Â Â Â Â Â text-align: center;
Â Â Â Â Â Â padding: 20px;
Â Â Â Â Â Â margin: 0;
Â Â Â Â Â Â transition: background-color 0.3s, color 0.3s;
Â Â Â Â }

Â Â Â Â body.dark-theme {
Â Â Â Â Â Â background-color: var(--bg-dark);
Â Â Â Â Â Â color: var(--text-dark);
Â Â Â Â }

Â Â Â Â .toggle-theme {
Â Â Â Â Â Â position: fixed;
Â Â Â Â Â Â top: 20px;
Â Â Â Â Â Â right: 20px;
Â Â Â Â Â Â padding: 8px 12px;
Â Â Â Â Â Â background: var(--accent-light);
Â Â Â Â Â Â border-radius: 6px;
Â Â Â Â Â Â cursor: pointer;
Â Â Â Â Â Â font-size: 14px;
Â Â Â Â Â Â border: none;
Â Â Â Â Â Â z-index: 10001;
Â Â Â Â }

Â Â Â Â body.dark-theme .toggle-theme {
Â Â Â Â Â Â background: var(--accent-dark);
Â Â Â Â }

Â Â Â Â #preloader {
Â Â Â Â Â Â position: fixed;
Â Â Â Â Â Â width: 100%;
Â Â Â Â Â Â height: 100%;
Â Â Â Â Â Â background: var(--bg-light);
Â Â Â Â Â Â z-index: 9999;
Â Â Â Â Â Â top: 0;
Â Â Â Â Â Â left: 0;
Â Â Â Â Â Â display: flex;
Â Â Â Â Â Â align-items: center;
Â Â Â Â Â Â justify-content: center;
Â Â Â Â Â Â transition: opacity 0.5s;
Â Â Â Â }

Â Â Â Â body.dark-theme #preloader {
Â Â Â Â Â Â background: var(--bg-dark);
Â Â Â Â }

Â Â Â Â .loader {
Â Â Â Â Â Â width: 40px;
Â Â Â Â Â Â height: 40px;
Â Â Â Â Â Â border: 5px solid #ccc;
Â Â Â Â Â Â border-top-color: #333;
Â Â Â Â Â Â border-radius: 50%;
Â Â Â Â Â Â animation: spin 1s linear infinite;
Â Â Â Â }

Â Â Â Â @keyframes spin {
Â Â Â Â Â Â to { transform: rotate(360deg); }
Â Â Â Â }

Â Â Â Â .wallet {
Â Â Â Â Â Â margin-top: 30px;
Â Â Â Â Â Â padding: 20px;
Â Â Â Â Â Â border: 1px solid #aaa;
Â Â Â Â Â Â border-radius: 8px;
Â Â Â Â Â Â display: inline-block;
Â Â Â Â Â Â background: rgba(255,255,255,0.05);
Â Â Â Â }

Â Â Â Â .wallet h2 { margin-bottom: 10px; }
Â Â Â Â .wallet .balance {
Â Â Â Â Â Â font-size: 24px;
Â Â Â Â Â Â font-weight: bold;
Â Â Â Â Â Â margin-bottom: 10px;
Â Â Â Â }

Â Â Â Â .wallet button {
Â Â Â Â Â Â padding: 8px 16px;
Â Â Â Â Â Â font-size: 14px;
Â Â Â Â Â Â cursor: pointer;
Â Â Â Â Â Â border: none;
Â Â Â Â Â Â border-radius: 6px;
Â Â Â Â Â Â background-color: #06c;
Â Â Â Â Â Â color: white;
Â Â Â Â Â Â transition: background 0.2s;
Â Â Â Â Â Â margin: 4px;
Â Â Â Â }

Â Â Â Â .wallet button:hover {
Â Â Â Â Â Â background-color: #0057a6;
Â Â Â Â }

Â Â Â Â .terminal {
Â Â Â Â Â Â margin-top: 30px;
Â Â Â Â Â Â padding: 20px;
Â Â Â Â Â Â background: #000;
Â Â Â Â Â Â color: var(--green);
Â Â Â Â Â Â font-family: monospace;
Â Â Â Â Â Â border-radius: 8px;
Â Â Â Â Â Â max-width: 600px;
Â Â Â Â Â Â margin-left: auto;
Â Â Â Â Â Â margin-right: auto;
Â Â Â Â Â Â text-align: left;
Â Â Â Â }

Â Â Â Â .terminal input {
Â Â Â Â Â Â width: 100%;
Â Â Â Â Â Â padding: 6px;
Â Â Â Â Â Â margin-top: 8px;
Â Â Â Â Â Â background: #111;
Â Â Â Â Â Â color: var(--green);
Â Â Â Â Â Â border: none;
Â Â Â Â Â Â outline: none;
Â Â Â Â Â Â font-family: monospace;
Â Â Â Â Â Â border-radius: 4px;
Â Â Â Â }

Â Â Â Â #terminal-log {
Â Â Â Â Â Â margin-top: 12px;
Â Â Â Â Â Â min-height: 60px;
Â Â Â Â Â Â max-height: 200px;
Â Â Â Â Â Â overflow-y: auto;
Â Â Â Â }

Â Â Â Â #terminal-log div {
Â Â Â Â Â Â white-space: pre-wrap;
Â Â Â Â }

Â Â Â Â a {
Â Â Â Â Â Â color: #06c;
Â Â Â Â }
Â Â </style>
</head>
<body>
Â Â <div id="preloader"><div class="loader"></div></div>

Â Â <button class="toggle-theme" onclick="toggleTheme()">Ğ¡Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ñ‚ĞµĞ¼Ñƒ</button>

Â Â <h1>ğŸŒ WebKurierCore</h1>
Â Â <p>Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Ğ°Ğ²Ñ‚Ğ¾Ğ½Ğ¾Ğ¼Ğ½Ñ‹Ğ¹ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ WebKurier: Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ», ĞºĞ¾ÑˆĞµĞ»Ñ‘Ğº, Telegram-ÑĞ²ÑĞ·ÑŒ.</p>

Â Â <!-- ĞšĞ¾ÑˆĞµĞ»Ñ‘Ğº -->
Â Â <div class="wallet">
Â Â Â Â <h2>ğŸ’° WebCoin-ĞºĞ¾ÑˆĞµĞ»Ñ‘Ğº</h2>
Â Â Â Â <div class="balance" id="webcoin-balance">Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ: 0 WKC</div>
Â Â Â Â <button onclick="addCoins(10)">+10 WKC</button>
Â Â Â Â <button onclick="resetCoins()">Ğ¡Ğ±Ñ€Ğ¾Ñ</button>
Â Â </div>

Â Â <!-- Ğ¢ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ» -->
Â Â <div class="terminal">
Â Â Â Â <div>> WebKurier Terminal v1.0</div>
Â Â Â Â <input type="text" id="terminal-input" placeholder="Ğ’Ğ²ĞµĞ´Ğ¸ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ..." onkeydown="handleCommand(event)">
Â Â Â Â <div id="terminal-log"></div>
Â Â </div>

Â Â <!-- Telegram -->
Â Â <h2>ğŸ”— Telegram</h2>
Â Â <p><a href="https://t.me/WebKurierBot" target="_blank">@WebKurierBot</a></p>

Â Â <!-- Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹ -->
Â Â <script src="wallet.js"></script>
Â Â <script src="terminal.js"></script>
Â Â <script>
Â Â Â Â function toggleTheme() {
Â Â Â Â Â Â document.body.classList.toggle('dark-theme');
Â Â Â Â Â Â localStorage.setItem('theme', document.body.classList.contains('dark-theme') ? 'dark' : 'light');
Â Â Â Â }

Â Â Â Â function addCoins(amount) {
Â Â Â Â Â Â let current = parseInt(localStorage.getItem('webcoin') || '0');
Â Â Â Â Â Â current += amount;
Â Â Â Â Â Â localStorage.setItem('webcoin', current);
Â Â Â Â Â Â document.getElementById('webcoin-balance').textContent = `Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ: ${current} WKC`;
Â Â Â Â }

Â Â Â Â function resetCoins() {
Â Â Â Â Â Â localStorage.setItem('webcoin', '0');
Â Â Â Â Â Â document.getElementById('webcoin-balance').textContent = `Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ: 0 WKC`;
Â Â Â Â }

Â Â Â Â function handleCommand(e) {
Â Â Â Â Â Â if (e.key === 'Enter') {
Â Â Â Â Â Â Â Â const input = document.getElementById('terminal-input');
Â Â Â Â Â Â Â Â const log = document.getElementById('terminal-log');
Â Â Â Â Â Â Â Â const command = input.value.trim();

Â Â Â Â Â Â Â Â if (command) {
Â Â Â Â Â Â Â Â Â Â log.innerHTML += `<div>&gt; ${command}</div>`;
Â Â Â Â Â Â Â Â Â Â input.value = '';
Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â if (command === 'ping') {
Â Â Â Â Â Â Â Â Â Â log.innerHTML += `<div>Pong ğŸŸ¢</div>`;
Â Â Â Â Â Â Â Â } else if (command === 'help') {
Â Â Â Â Â Â Â Â Â Â log.innerHTML += `<div>ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹: ping, help, reset, balance, /add [n]</div>`;
Â Â Â Â Â Â Â Â } else if (command === 'reset') {
Â Â Â Â Â Â Â Â Â Â resetCoins();
Â Â Â Â Â Â Â Â Â Â log.innerHTML += `<div>Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ ÑĞ±Ñ€Ğ¾ÑˆĞµĞ½.</div>`;
Â Â Â Â Â Â Â Â } else if (command === 'balance') {
Â Â Â Â Â Â Â Â Â Â const b = parseInt(localStorage.getItem('webcoin') || '0');
Â Â Â Â Â Â Â Â Â Â log.innerHTML += `<div>Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ: ${b} WKC</div>`;
Â Â Â Â Â Â Â Â } else if (command.startsWith('/add')) {
Â Â Â Â Â Â Â Â Â Â const parts = command.split(' ');
Â Â Â Â Â Â Â Â Â Â const num = parseInt(parts[1] || '0');
Â Â Â Â Â Â Â Â Â Â if (isNaN(num) || num <= 0) {
Â Â Â Â Â Â Â Â Â Â Â Â log.innerHTML += `<div>ĞÑˆĞ¸Ğ±ĞºĞ°: ÑƒĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾.</div>`;
Â Â Â Â Â Â Â Â Â Â } else {
Â Â Â Â Â Â Â Â Â Â Â Â addCoins(num);
Â Â Â Â Â Â Â Â Â Â Â Â log.innerHTML += `<div>Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¾: ${num} WKC</div>`;
Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â } else if (!['ping', 'help', 'reset', 'balance'].includes(command.split(' ')[0])) {
Â Â Â Â Â Â Â Â Â Â log.innerHTML += `<div>ĞĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ğ°Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°. Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ help.</div>`;
Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â log.scrollTop = log.scrollHeight;
Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â window.addEventListener('load', () => {
Â Â Â Â Â Â // ĞŸÑ€ĞµĞ»Ğ¾Ğ°Ğ´ĞµÑ€
Â Â Â Â Â Â document.getElementById('preloader').style.opacity = '0';
Â Â Â Â Â Â setTimeout(() => {
Â Â Â Â Â Â Â Â document.getElementById('preloader').style.display = 'none';
Â Â Â Â Â Â Â Â document.getElementById('terminal-input').focus();
Â Â Â Â Â Â }, 400);

Â Â Â Â Â Â // Ğ¢ĞµĞ¼Ğ°
Â Â Â Â Â Â if (localStorage.getItem('theme') === 'dark') {
Â Â Â Â Â Â Â Â document.body.classList.add('dark-theme');
Â Â Â Â Â Â } Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
  <!-- Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ° -->
  <script>
    window.addEventListener('load', () => {
      // ĞŸÑ€ĞµĞ»Ğ¾Ğ°Ğ´ĞµÑ€
      document.getElementById('preloader').style.opacity = '0';
      setTimeout(() => {
        document.getElementById('preloader').style.display = 'none';
        document.getElementById('terminal-input').focus();
      }, 400);

      // Ğ¢ĞµĞ¼Ğ°
      if (localStorage.getItem('theme') === 'dark') {
        document.body.classList.add('dark-theme');
      }

      // Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ
      const coins = parseInt(localStorage.getItem('webcoin') || '0', 10);
      document.getElementById('webcoin-balance').textContent = `Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ: ${coins} WKC`;
    });
  </script>

  <!-- Dropbox SDK Ğ¸ Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ñ -->
  <script src="https://unpkg.com/dropbox/dist/Dropbox-sdk.min.js"></script>
  <script src="engine/dropbox.js"></script>
  <script src="engine/engineer.js"></script>
  <script src="wallet.js"></script>

  <!-- DreamMaker â€” Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¼ĞµĞ´Ğ¸Ğ° -->
  <script src="engine/dream.js"></script>

  <!-- Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ DreamMaker -->
  <div id="screen"></div>
  <div id="preview-area"></div>
  <div id="chat"></div>
  <div class="chat-toolbar">
    <button id="btn-photo">ğŸ“·</button>
    <button id="btn-video">ğŸ</button>
    <button id="btn-audio">ğŸµ</button>
    <textarea id="chat-input" placeholder="Ğ¡ĞºĞ°Ğ¶Ğ¸ Ğ¸Ğ»Ğ¸ Ğ½Ğ°Ğ¿Ğ¸ÑˆĞ¸â€¦"></textarea>
    <button id="mic-btn">ğŸ¤</button>
    <button id="send-btn">â¤</button>
  </div>

  <!-- Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ DreamMaker UI -->
  <script>
    const screen = document.getElementById('screen');
    const previewArea = document.getElementById('preview-area');
    const chat = document.getElementById('chat');
    const input = document.getElementById('chat-input');

    function addMessage(text, who = 'bot') {
      const div = document.createElement('div');
      div.className = 'message ' + who;
      div.textContent = text;
      chat.appendChild(div);
      chat.scrollTop = chat.scrollHeight;
      return div;
    }

    function addActions(msg) {
      ['ğŸ“‹', 'ğŸ”Š', 'ğŸ‘', 'ğŸ‘', 'ğŸ“¤'].forEach(ic => {
        const btn = document.createElement('button');
        btn.textContent = ic;
        btn.onclick = () => console.log(ic + ' Ğ½Ğ°Ğ¶Ğ°Ñ‚Ğ°');
        msg.appendChild(btn);
      });
    }

    function handleFile(type) {
      const inp = document.createElement('input');
      inp.type = 'file';
      inp.accept = type + '/*';
      inp.onchange = e => {
        const file = e.target.files[0];
        if (!file) return;
        const url = URL.createObjectURL(file);
        const el = document.createElement(type === 'image' ? 'img' :
                         type === 'video' ? 'video' : 'audio');
        el.src = url;
        el.controls = true;
        previewArea.innerHTML = '';
        previewArea.appendChild(el);
        addMessage(`ğŸ–¼ Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½ ${type}: ${file.name}`, 'user');
        window.lastMedia = window.lastMedia || {};
        window.lastMedia[type] = file;
      };
      inp.click();
    }

    document.getElementById('btn-photo').onclick = () => handleFile('image');
    document.getElementById('btn-video').onclick = () => handleFile('video');
    document.getElementById('btn-audio').onclick = () => handleFile('audio');

    document.getElementById('mic-btn').onclick = () => {
      if (!('webkitSpeechRecognition' in window)) {
        return addMessage('âš ï¸ Ğ“Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ğ¾Ğ¹ Ğ²Ğ²Ğ¾Ğ´ Ğ½Ğµ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ.', 'bot');
      }
      const rec = new webkitSpeechRecognition();
      rec.lang = 'ru-RU';
      rec.onresult = e => input.value += e.results[0][0].transcript + ' ';
      rec.onerror = e => addMessage('âš ï¸ ĞÑˆĞ¸Ğ±ĞºĞ° Ñ€Ğ°ÑĞ¿Ğ¾Ğ·Ğ½Ğ°Ğ²Ğ°Ğ½Ğ¸Ñ: ' + e.error, 'bot');
      rec.start();
    };

    document.getElementById('send-btn').onclick = async () => {
      const text = input.value.trim();
      if (!text && !window.lastMedia) return;

      addMessage('> ' + (text || '[Ğ¼ĞµĞ´Ğ¸Ğ°]'), 'user');
      const botMsg = addMessage('ğŸ¬ ĞĞ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ñ...', 'bot');

      if (window.lastMedia) {
        const { image: img, video: vid, audio: aud } = window.lastMedia;
        if (vid) botMsg.textContent = dreammaker.fromVideo(vid);
        else if (img && aud) botMsg.textContent = dreammaker.animate(img, aud);
        else if (aud && !img) botMsg.textContent = 'Ğ£ĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ñ„Ğ¾Ñ‚Ğ¾ Ğ¸Ğ»Ğ¸ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ²Ğ¼ĞµÑÑ‚Ğµ ÑĞ¾ Ğ·Ğ²ÑƒĞºĞ¾Ğ¼.';
        window.lastMedia = {};
      } else {
        botMsg.textContent = dreammaker.voiceOver(text);
      }

      addActions(botMsg);
      input.value = '';
    };
  </script>
</body>
</html>
